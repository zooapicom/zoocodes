# =============================================================================
# Zoo 环境变量配置示例
# 用途：复制此文件为 .env 并修改配置
# =============================================================================

# 服务端口
ZOO_PORT=8599

# 时区
TZ=Asia/Shanghai

# =============================================================================
# MySQL 数据库配置（如果使用 Docker 中的 MySQL）
# ⚠️ 重要：这些变量会被 mysql 服务和 zoo 服务共同使用，确保配置一致性
# =============================================================================

# MySQL Root 密码
MYSQL_ROOT_PASSWORD=root123456

# MySQL 业务数据库配置
# 这些配置会同时用于：
# 1. mysql 服务创建数据库和用户
# 2. zoo 服务连接 MySQL
MYSQL_DATABASE=zoo
MYSQL_USER=zoo
MYSQL_PASSWORD=zoo123456

# MySQL 服务地址（zoo 连接时使用，默认为服务名 "mysql"）
# MYSQL_HOST=mysql
# MYSQL_PORT=3306

# =============================================================================
# Redis 缓存配置（如果使用 Docker 中的 Redis）
# =============================================================================

# Redis 密码（如果需要，取消注释）
# REDIS_PASSWORD=

# Redis 服务地址（zoo 连接时使用，默认为服务名 "redis"）
# REDIS_HOST=redis
# REDIS_PORT=6379

# Docker 镜像配置（如果使用镜像仓库）
# IMAGE_REGISTRY=registry.example.com
# IMAGE_NAME=zoo
# IMAGE_TAG=v1.0.0

# =============================================================================
# 许可证验证配置（镜像售卖场景）
# =============================================================================
# 说明：启用许可证验证后，应用会定期向许可证服务验证授权状态
# 必需配置：ZOO_LICENSE_SERVER_URL 和 ZOO_LICENSE_PUBLIC_KEY_PEM

# 是否启用许可证验证
# ZOO_LICENSE_ENABLED=true

# ========== 必需配置 ==========
# 许可证服务请求地址（你方部署的许可证服务URL）
# ZOO_LICENSE_SERVER_URL=https://license.yourcompany.com

# 公钥PEM（RSA/ECDSA格式，用于验证服务端响应签名）
# 注意：这是你方提供的公钥，必须与服务端私钥配对
# 多行格式示例（使用单引号或转义换行符）：
# ZOO_LICENSE_PUBLIC_KEY_PEM='-----BEGIN PUBLIC KEY-----
# MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA...
# -----END PUBLIC KEY-----'
# 或单行格式（移除换行符）：
# ZOO_LICENSE_PUBLIC_KEY_PEM="-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA...\n-----END PUBLIC KEY-----"

# ========== 可选配置 ==========
# 授权域名（买方提供的域名，用于标识授权实例）
# ZOO_LICENSE_DOMAIN=app.buyer.com

# 验证间隔（秒），默认3600（1小时）
# ZOO_LICENSE_CHECK_INTERVAL_SECONDS=3600

# 请求超时（秒），默认10
# ZOO_LICENSE_TIMEOUT_SECONDS=10

# 服务不可用时是否拒绝（true=拒绝，false=放行），默认true
# ZOO_LICENSE_FAIL_CLOSED=true

# 验证结果缓存时间（秒），默认300（5分钟）
# ZOO_LICENSE_CACHE_TTL_SECONDS=300

# 许可证服务证书指纹（SHA256，可选，用于证书绑定增强安全）
# ZOO_LICENSE_CERT_FINGERPRINT=abcd1234efgh5678...

# 响应时间戳验证窗口（秒），默认300（5分钟）
# ZOO_LICENSE_TIMESTAMP_WINDOW_SECONDS=300

# =============================================================================
# 使用说明：
# 1. 复制此文件为 .env: cp env.example .env
# 2. 修改 .env 文件中的配置
# 3. docker-compose 会自动读取 .env 文件
# 4. 所有配置都会应用到 mysql、redis 和 zoo 服务，确保一致性
# =============================================================================
